{"version":3,"file":"static/js/408.ba2462bb.chunk.js","mappings":"yMAEO,MAAMA,EAAeC,IAC1B,MAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,IAClBI,EAAAA,EAAAA,SAAO,CAAE,eAAgB,sCAC7BC,KAAK,UAAWJ,GAChBK,MAAKC,GAAOA,IACZC,OAAM,IAAM,MAAK,EAETC,EAAqBT,IAAQI,EAAAA,EAAAA,WAASC,KAAK,gBAAiBL,GAC5DU,EAAkBC,IAAUP,EAAAA,EAAAA,WAASQ,OAAO,iBAADC,OAAwB,OAANF,QAAM,IAANA,OAAM,EAANA,EAAQG,I,sHCIlF,mBAAkC,IAAlBC,EAAOC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EACzB,MAAMG,EAAUC,EAAAA,EAAMC,OAAO,CAC3BC,QAASC,EAAAA,SACTR,SAAOS,EAAAA,EAAAA,GAAA,CACLC,eAAeC,EAAAA,EAAAA,kBAAmB,UAAUb,QAAOa,EAAAA,EAAAA,mBAAoB,IACpEX,KAqCP,OAlCAI,EAAQQ,aAAaC,SAASC,KAC5BD,GAAYA,IACZE,IACE,MAAMC,EAAgBD,EAAMF,SAE1B,OAAQG,EAAcC,QACpB,KAAK,IACHC,OAAOC,SAASC,SAAWC,EAAAA,QAAOC,SAASF,SAC3C,MACF,KAAK,IACHF,OAAOC,SAASC,SAAW,iBAUb,IAADG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAJU,MAAzBb,EAAcC,UAChBa,EAAAA,EAAAA,cACAZ,OAAOC,SAASY,KAAO,YAErBf,IACFgB,EAAAA,EAAajB,MAAM,CACjBkB,QAAS,QACTC,aACe,OAAblB,QAAa,IAAbA,GAAmB,QAANO,EAAbP,EAAe/B,YAAI,IAAAsC,GAAS,QAATC,EAAnBD,EAAqBU,eAAO,IAAAT,GAAK,QAALC,EAA5BD,EAA+B,UAAE,IAAAC,GAAU,QAAVC,EAAjCD,EAAmCU,gBAAQ,IAAAT,GAAK,QAALC,EAA3CD,EAA8C,UAAE,IAAAC,OAAnC,EAAbA,EAAkDM,UACT,kBAApB,OAAbjB,QAAa,IAAbA,GAAmB,QAANY,EAAbZ,EAAe/B,YAAI,IAAA2C,OAAN,EAAbA,EAAqBK,WAAqC,OAAbjB,QAAa,IAAbA,GAAmB,QAANa,EAAbb,EAAe/B,YAAI,IAAA4C,OAAN,EAAbA,EAAqBI,UAC1E,uBACFG,SAAU,EACVC,SAAU,IAGd,MAAMtB,CAAK,IAGRX,CACR,C","sources":["app/services/upload.js","services/main-client.js"],"sourcesContent":["import client from '../../services/main-client';\r\n\r\nexport const addUploadApi = data => {\r\n  const formData = new FormData();\r\n  formData.append('files', data);\r\n  return client({ 'Content-type': 'application/x-www-form-urlencoded' })\r\n    .post('/upload', formData)\r\n    .then(res => res)\r\n    .catch(() => null);\r\n};\r\nexport const addBase64UploadApi = data => client().post('/file-storage', data);\r\nexport const deleteUploadApi = params => client().delete(`/upload/files/${params?.id}`);\r\n","import axios from 'axios';\r\n// import Promise from 'bluebird';\r\nimport routes from 'constants/routes';\r\nimport { notification } from 'antd';\r\nimport { getAccessToken, emptyState } from '../configs/local-storage';\r\nimport { API_ROOT } from '../configs/env-vars';\r\n//\r\n// Promise.config({\r\n//   cancellation: true,\r\n// });\r\n\r\n// overwrite native Promise implementation with Bluebird's\r\n// window.Promise = Promise;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (headers = {}) => {\r\n  const service = axios.create({\r\n    baseURL: API_ROOT, // url of the api\r\n    headers: {\r\n      Authorization: getAccessToken() ? 'Bearer '.concat(getAccessToken()) : '',\r\n      ...headers,\r\n    },\r\n  });\r\n  service.interceptors.response.use(\r\n    response => response,\r\n    error => {\r\n      const errorResponse = error.response;\r\n      if (process.env.NODE_ENV === 'production') {\r\n        switch (errorResponse.status) {\r\n          case 404:\r\n            window.location.pathname = routes.notFound.pathname;\r\n            break;\r\n          case 403:\r\n            window.location.pathname = '/not-permitted';\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n      if (errorResponse.status === 401) {\r\n        emptyState();\r\n        window.location.href = '/sign-in';\r\n      }\r\n      if (errorResponse) {\r\n        notification.error({\r\n          message: 'Error',\r\n          description:\r\n            errorResponse?.data?.message?.[0]?.messages?.[0]?.message ||\r\n            (typeof errorResponse?.data?.message === 'string' && errorResponse?.data?.message) ||\r\n            'Something went wrong',\r\n          maxCount: 1,\r\n          duration: 0,\r\n        });\r\n      }\r\n      throw error;\r\n    }\r\n  );\r\n  return service;\r\n};\r\n"],"names":["addUploadApi","data","formData","FormData","append","client","post","then","res","catch","addBase64UploadApi","deleteUploadApi","params","delete","concat","id","headers","arguments","length","undefined","service","axios","create","baseURL","API_ROOT","_objectSpread","Authorization","getAccessToken","interceptors","response","use","error","errorResponse","status","window","location","pathname","routes","notFound","_errorResponse$data","_errorResponse$data$m","_errorResponse$data$m2","_errorResponse$data$m3","_errorResponse$data$m4","_errorResponse$data2","_errorResponse$data3","emptyState","href","notification","message","description","messages","maxCount","duration"],"sourceRoot":""}