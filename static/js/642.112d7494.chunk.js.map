{"version":3,"file":"static/js/642.112d7494.chunk.js","mappings":"wMAeA,mBAAkC,IAAlBA,EAAOC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EACzB,MAAMG,EAAUC,EAAAA,EAAMC,OAAO,CAC3BC,QAASC,EAAAA,SACTR,SAAOS,EAAAA,EAAAA,GAAA,CACLC,eAAeC,EAAAA,EAAAA,kBAAmB,UAAUC,QAAOD,EAAAA,EAAAA,mBAAoB,IACpEX,KAqCP,OAlCAI,EAAQS,aAAaC,SAASC,KAC5BD,GAAYA,IACZE,IACE,MAAMC,EAAgBD,EAAMF,SAE1B,OAAQG,EAAcC,QACpB,KAAK,IACHC,OAAOC,SAASC,SAAWC,EAAAA,QAAOC,SAASF,SAC3C,MACF,KAAK,IACHF,OAAOC,SAASC,SAAW,iBAUb,IAADG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAJU,MAAzBb,EAAcC,UAChBa,EAAAA,EAAAA,cACAZ,OAAOC,SAASY,KAAO,YAErBf,IACFgB,EAAAA,EAAajB,MAAM,CACjBkB,QAAS,QACTC,aACe,OAAblB,QAAa,IAAbA,GAAmB,QAANO,EAAbP,EAAemB,YAAI,IAAAZ,GAAS,QAATC,EAAnBD,EAAqBU,eAAO,IAAAT,GAAK,QAALC,EAA5BD,EAA+B,UAAE,IAAAC,GAAU,QAAVC,EAAjCD,EAAmCW,gBAAQ,IAAAV,GAAK,QAALC,EAA3CD,EAA8C,UAAE,IAAAC,OAAnC,EAAbA,EAAkDM,UACT,kBAApB,OAAbjB,QAAa,IAAbA,GAAmB,QAANY,EAAbZ,EAAemB,YAAI,IAAAP,OAAN,EAAbA,EAAqBK,WAAqC,OAAbjB,QAAa,IAAbA,GAAmB,QAANa,EAAbb,EAAemB,YAAI,IAAAN,OAAN,EAAbA,EAAqBI,UAC1E,uBACFI,SAAU,EACVC,SAAU,IAGd,MAAMvB,CAAK,IAGRZ,CACR,C","sources":["services/main-client.js"],"sourcesContent":["import axios from 'axios';\r\n// import Promise from 'bluebird';\r\nimport routes from 'constants/routes';\r\nimport { notification } from 'antd';\r\nimport { getAccessToken, emptyState } from '../configs/local-storage';\r\nimport { API_ROOT } from '../configs/env-vars';\r\n//\r\n// Promise.config({\r\n//   cancellation: true,\r\n// });\r\n\r\n// overwrite native Promise implementation with Bluebird's\r\n// window.Promise = Promise;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (headers = {}) => {\r\n  const service = axios.create({\r\n    baseURL: API_ROOT, // url of the api\r\n    headers: {\r\n      Authorization: getAccessToken() ? 'Bearer '.concat(getAccessToken()) : '',\r\n      ...headers,\r\n    },\r\n  });\r\n  service.interceptors.response.use(\r\n    response => response,\r\n    error => {\r\n      const errorResponse = error.response;\r\n      if (process.env.NODE_ENV === 'production') {\r\n        switch (errorResponse.status) {\r\n          case 404:\r\n            window.location.pathname = routes.notFound.pathname;\r\n            break;\r\n          case 403:\r\n            window.location.pathname = '/not-permitted';\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n      if (errorResponse.status === 401) {\r\n        emptyState();\r\n        window.location.href = '/sign-in';\r\n      }\r\n      if (errorResponse) {\r\n        notification.error({\r\n          message: 'Error',\r\n          description:\r\n            errorResponse?.data?.message?.[0]?.messages?.[0]?.message ||\r\n            (typeof errorResponse?.data?.message === 'string' && errorResponse?.data?.message) ||\r\n            'Something went wrong',\r\n          maxCount: 1,\r\n          duration: 0,\r\n        });\r\n      }\r\n      throw error;\r\n    }\r\n  );\r\n  return service;\r\n};\r\n"],"names":["headers","arguments","length","undefined","service","axios","create","baseURL","API_ROOT","_objectSpread","Authorization","getAccessToken","concat","interceptors","response","use","error","errorResponse","status","window","location","pathname","routes","notFound","_errorResponse$data","_errorResponse$data$m","_errorResponse$data$m2","_errorResponse$data$m3","_errorResponse$data$m4","_errorResponse$data2","_errorResponse$data3","emptyState","href","notification","message","description","data","messages","maxCount","duration"],"sourceRoot":""}